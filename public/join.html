<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta property="og:title" content="Singles Playing Doubles - Join today!">
    <meta property="og:description" content="A Singapore-based tennis x dating program">
    <meta property="og:image" content="https://singlesplayingdoubles.sg/images/og-image.png">
    <meta property="og:url" content="https://singlesplayingdoubles.sg">
    <meta property="og:type" content="website">

    <title>Join Singles Playing Doubles</title>

    <link rel="icon" href="images/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="all-container">
        <div class="container-box nav">
            <a href="/">Home</a>
            <a href="/pricing">Pricing</a>
            <a href="/contact">Contact</a>
            <a href="/join" class="nav-primary">Join</a>
        </div>

        <div class="container-box hero">
            <img src="images/logo.png" alt="Singles Playing Doubles Logo" class="hero-item hero-logo">
            <div class="hero-item">
                <h1>Join Singles Playing Doubles!</h1>
                <!-- <h3>We're currently taking applications for Season 1.</h3> -->
                 <h3>Starting <b>1 Nov 2024</b>, we'll take applications for the inaugural <b>Season 1</b>!</h3>
            </div>
        </div>

        <div class="container-box body-container">
            <form id="application-form" action="/submit-application" method="POST">
                <div class="input-container">
                    <label for="name" class="required">Let's start with your full name.</label>
                    <input type="text" id="name" name="name" placeholder="Natalie Lim" required>
                </div>
    
                <div class="input-container">
                    <label for="age" class="required">How old are you?</label>
                    <input type="number" id="age" name="age" min="18" max="100" required>
                </div>
                
                <div class="input-container">
                    <label for="gender" class="required">What's your gender?</label>
                    <select id="gender" name="gender" required>
                        <option value="">Select gender</option>
                        <option value="female">Female</option>
                        <option value="male">Male</option>
                    </select>
                </div>
    
                <div class="input-container">
                    <label for="email" class="required">What's your email?</label>
                    <input type="email" id="email" name="email" placeholder="name@gmail.com" required>
                </div>
    
                <div class="input-container">
                    <label for="phone" class="required">What's your Singapore phone number?</label>
                    <input type="tel" id="phone" name="phone" placeholder="91234567" pattern="[89][0-9]{7}" required>
                </div>
    
                <div class="input-container">
                    <label for="ig-handle">What's your Instagram handle?</label>
                    <label for="ig-handle" class="sublabel">This is optional, but helps us create a great group dynamic!</label>
                    <input type="text" id="ig-handle" name="ig_handle" placeholder="@singlesplayingdoubles">
                </div>
    
                <div class="input-container">
                    <label for="tennis_level" class="required">How's your tennis level?</label>
                    <label for="tennis_level" class="sublabel">This helps us create groups of the same level, for maximum fun and effectiveness!</label>
                    <select id="tennis_level" name="tennis_level" required>
                        <option value="">Select tennis level</option>
                        <option value="zero">New - Barely held a racket before!</option>
                        <option value="beginner">Beginner - Taken a few lessons, or been casually hitting</option>
                        <option value="intermediate">Intermediate - Been training hard for months/years now</option>
                        <option value="advanced">Advanced - Played tennis for a long time, or play competitively</option>
                    </select>
                </div>
                
                <div class="input-container">
                    <label for="time_prefs">
                        Do you have preferred days / times for our weekly sessions? Or dates when you're unavailable?
                    </label>
                    <label for="time_prefs" class="sublabel">
                        Note that the program runs for 4 weeks (and may be extended if rain cancels our sessions).
                        You'd have so much fun you wouldn't want to miss any sessions!
                    </label>
                    <textarea id="time_prefs" name="time_prefs" placeholder="eg Tues / Thurs / Fri 8-10pm, unavailable 18-25 Nov"></textarea>
                </div>
            </div>

            <div class="container-box body-container">
                <h2>More about you</h2>
                <p>
                    The following questions help us create the best group for you. Your responses won't be shared with others.
                    Help us help you!
                    <br><br>
                    We understand that you may want to edit your responses to the following questions later on, so when you
                    hit "Submit!" below, we'll save what you have, and send you a link to update your responses later.
                </p>
    
                <div class="input-container">
                    <label for="personality_notes">
                        Can you tell us a bit more about your personality, and also what you're looking for in a potential partner?
                    </label>
                    <label for="personality_notes" class="sublabel">
                        For example, what's your MBTI type? What makes your heart skip a beat? :)
                        This will help us design the best group for you!
                    </label>
                    <textarea id="personality_notes" name="personality_notes"></textarea>
                </div>
    
                <div class="input-container">
                    <label for="misc_notes">Anything else you'd like us to know?</label>
                    <label for="misc_notes" class="sublabel">For example, do you have other fun hobbies, personal interests,
                        or fancy skills? :) Or perhaps, any allergies or discomforts?
                    </label>
                    <textarea id="misc_notes" name="misc_notes"></textarea>
                </div>
    
                <input type="hidden" id="utm_source" name="utm_source">
                <input type="hidden" id="utm_medium" name="utm_medium">
                <input type="hidden" id="utm_campaign" name="utm_campaign">
                <input type="hidden" id="referrer" name="referrer">
    
                <button type="submit" class="cta-btn form-btn" id="apply-submit-btn">Submit!</button>
            </form>
        </div>
    </div>

    <!-- First load tracking.js, then prefill form -->
    <script src="scripts/tracking.js"></script>
    <script>
        // Retrieve UTM params and referrer from localStorage
        function getTrackingDataFromStorage() {
            return {
                utm_source: localStorage.getItem('utm_source') || '',
                utm_medium: localStorage.getItem('utm_medium') || '',
                utm_campaign: localStorage.getItem('utm_campaign') || '',
                referrer: localStorage.getItem('referrer') || ''
            };
        }
    
        // Pre-fill hidden form fields with the tracking data
        const trackingData = getTrackingDataFromStorage();
        document.getElementById('utm_source').value = trackingData.utm_source;
        document.getElementById('utm_medium').value = trackingData.utm_medium;
        document.getElementById('utm_campaign').value = trackingData.utm_campaign;
        document.getElementById('referrer').value = trackingData.referrer;
    </script>
    <script>
        // Check if the app is running in production and if so disable the submit button
        const isProduction = window.location.hostname === 'singlesplayingdoubles.sg';

        window.onload = function () {
            const button = document.getElementById('apply-submit-btn');
            if (isProduction) {
                button.disabled = true;
            }
        };
    </script>
</body>
</html>
